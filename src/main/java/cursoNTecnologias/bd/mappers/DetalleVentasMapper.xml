<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cursoNTecnologias.bd.mappers.DetalleVentasMapper">
  <resultMap id="BaseResultMap" type="cursoNTecnologias.bd.domain.DetalleVentas">
    <id column="ventaId" jdbcType="INTEGER" property="ventaid" />
    <result column="productoId" jdbcType="INTEGER" property="productoid" />
    <result column="cantidad" jdbcType="INTEGER" property="cantidad" />
  </resultMap>
  
  <resultMap id="BaseResultMapByProductId" type="cursoNTecnologias.bd.domain.DetalleVentas">
    <id column="ventaId" jdbcType="INTEGER" property="ventaid" />
    <result column="productoId" jdbcType="INTEGER" property="productoid" />
    <result column="cantidad" jdbcType="INTEGER" property="cantidad" />
    
    <association property="Producto" column="productoId" resultMap="cursoNTecnologias.bd.mappers.DetalleVentas"/>
  </resultMap>
  
  <insert id="insertDetalleVentas" parameterType="cursoNTecnologias.bd.domain.DetalleVentas" useGeneratedKeys="true" keyProperty="id">
	  INSERT INTO detalleventas (ventaId, productoId, cantidad) 
	  VALUES
	  (#{ventaid}, #{productoid}, #{cantidad})
  </insert>
</mapper>